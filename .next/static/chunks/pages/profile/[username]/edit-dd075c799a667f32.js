(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[592],{7233:function(e,n,r){"use strict";r.d(n,{Q:function(){return t}});var t=r(66).ZP.input.withConfig({displayName:"BaseInput",componentId:"sc-126p863-0"})(["height:40px;width:100%;display:block;max-width:400px;border:1px solid #d9d9d9;border-radius:14px;transition:transform 0.4s;padding:22px 10px;&:focus{transition:transform 4s;outline:#ed6103 auto 1px;&::placeholder{transition:transform 0.2s;color:#ed6103;font-size:8px;transform-origin:top;transform:translateY(-100%);opacity:1;}}&:invalid{outline:#ed0303 auto 2px;}"])},6702:function(e,n,r){"use strict";r.d(n,{h:function(){return t}});var t=r(66).ZP.img.withConfig({displayName:"UserIconImg",componentId:"sc-k5eqd1-0"})(["object-fit:cover;border-radius:100%;width:46px;height:46px;background-color:#fff;"])},6520:function(e,n,r){"use strict";function t(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}r.r(n),r.d(n,{default:function(){return L}});var o=r(9499),i=r(29),c=r(7794),a=r.n(c),s=r(7294),u=r(6675),l=r(7233);function p(e,n){if(null==e)return{};var r,t,o=function(e,n){if(null==e)return{};var r,t,o={},i=Object.keys(e);for(t=0;t<i.length;t++)r=i[t],n.indexOf(r)>=0||(o[r]=e[r]);return o}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(t=0;t<i.length;t++)r=i[t],n.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var d,f=r(5893),m=["children"];function h(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}function b(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?h(Object(r),!0).forEach((function(n){(0,o.Z)(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}var g,v,x,O,y,j=u.Z.button(d||(d=t(["\n  background-color: #ff8d06;\n  color: #fff;\n  border: none;\n  font-weight: bold;\n  cursor: pointer;\n"]))),w=function(e){var n=e.children,r=p(e,m);return(0,f.jsx)(j,b(b({},r),{},{children:n}))},P=r(3385),k=r(1697),z=r(9473),E=r(1163),S=r(373),Z=r(6702),_=r(7536),C=r(5121),I=r(6312),D=r(337);function N(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}function F(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?N(Object(r),!0).forEach((function(n){(0,o.Z)(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}var B=u.Z.form(g||(g=t(["\n  width: 93%;\n  margin: 0 auto;\n"]))),R=(0,u.Z)(Z.h)(v||(v=t(["\n  cursor: pointer;\n  width: 160px;\n  height: 160px;\n  margin: 0 auto 39px;\n\n  @media (min-width: 425px) {\n    & {\n      width: 180px;\n      height: 180px;\n    }\n  }\n"]))),q=u.Z.div(x||(x=t(["\n  margin: 0 auto;\n  width: 100%;\n  max-width: 480px;\n  margin-bottom: 21px;\n"]))),M=(0,u.Z)(l.Q)(O||(O=t(["\n  margin: 0 auto;\n  width: 100%;\n  max-width: 480px;\n"]))),T=(0,u.Z)(w)(y||(y=t(["\n  width: 100%;\n  max-width: 480px;\n  border-radius: 8px;\n  height: 48px;\n  display: block;\n  margin: 0 auto;\n"]))),L=function(){var e,n,r=(0,z.I0)(),t=(0,E.useRouter)(),o=(0,_.cI)({resolver:(0,I.F)(D.nq)}),c=o.register,u=o.handleSubmit,l=o.setValue,p=o.formState.errors,d=(0,P.v)((function(e){return e.user})),m=d.user,h=d.loading;if((0,s.useEffect)((function(){r((0,k.Ez)())}),[]),(0,s.useEffect)((function(){m||h||t.push("/login")}),[m]),(0,s.useEffect)((function(){m?(l("username",m.username),l("description",m.desc)):h||t.push("/login")}),[m,h,l]),h)return(0,f.jsx)("div",{className:"loader-container",children:(0,f.jsx)(S.Z,{color:"#ed6103",loading:!0,size:50})});if(!m)return null;var b=function(){var e=(0,i.Z)(a().mark((function e(n){var r,o,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.username,o=n.description,e.prev=1,i={userId:m._id,username:r,desc:o},e.next=5,C.Z.put("/api/users/".concat(m._id),i);case 5:t.push("/profile/".concat(r)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(n){return e.apply(this,arguments)}}();return(0,f.jsxs)("div",{children:[(0,f.jsx)("h2",{children:"\u30d7\u30ed\u30d5\u30a3\u30fc\u30eb\u3092\u7de8\u96c6"}),(0,f.jsxs)(B,{onSubmit:u(b),children:[(0,f.jsx)(R,{src:m.profileImg,alt:""}),(0,f.jsxs)(q,{children:[(0,f.jsx)("label",{htmlFor:"username",children:"\u540d\u524d"}),(0,f.jsx)(M,F(F({id:"username",type:"text"},c("username")),{},{placeholder:"\u540d\u524d"})),(0,f.jsxs)("p",{style:{marginBottom:"14px",color:"red"},children:[null===(e=p.username)||void 0===e?void 0:e.message," "]})]}),(0,f.jsxs)(q,{children:[(0,f.jsx)("label",{htmlFor:"description",children:"\u81ea\u5df1\u7d39\u4ecb"}),(0,f.jsx)(M,F(F({type:"text"},c("description")),{},{placeholder:"\u81ea\u5df1\u7d39\u4ecb",id:"description"})),(0,f.jsxs)("p",{style:{marginBottom:"14px",color:"red"},children:[null===(n=p.description)||void 0===n?void 0:n.message," "]})]}),(0,f.jsx)(T,{children:"\u4fdd\u5b58"})]})]})}},337:function(e,n,r){"use strict";r.d(n,{FB:function(){return c},KW:function(){return u},k:function(){return i},lF:function(){return s},nq:function(){return l},zk:function(){return a}});var t=r(1604),o=t.z.object({email:t.z.string().email("\u6b63\u3057\u3044\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044"),password:t.z.string().min(6,"\u30d1\u30b9\u30ef\u30fc\u30c9\u306f6\u6587\u5b57\u4ee5\u4e0a\u3067\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044").max(50,"\u30d1\u30b9\u30ef\u30fc\u30c9\u306f50\u6587\u5b57\u4ee5\u4e0b\u3067\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044")}),i=o.extend({}),c=o.extend({username:t.z.string().min(1,"\u30e6\u30fc\u30b6\u30fc\u540d\u306f1\u6587\u5b57\u4ee5\u4e0a\u3067\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044").max(15,"\u30e6\u30fc\u30b6\u30fc\u540d\u306f15\u6587\u5b57\u4ee5\u4e0b\u3067\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044"),passwordConfirmation:t.z.string().min(6,"\u30d1\u30b9\u30ef\u30fc\u30c9\u306f6\u6587\u5b57\u4ee5\u4e0a\u3067\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044").max(50,"\u30d1\u30b9\u30ef\u30fc\u30c9\u306f50\u6587\u5b57\u4ee5\u4e0b\u3067\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044")}),a=o.omit({password:!0}),s=t.z.object({code:t.z.number().min(1e4,"\u30b3\u30fc\u30c9\u306f5\u6841\u306e\u6570\u5024\u3067\u306a\u3051\u308c\u3070\u306a\u308a\u307e\u305b\u3093").max(99999,"\u30b3\u30fc\u30c9\u306f5\u6841\u306e\u6570\u5024\u3067\u306a\u3051\u308c\u3070\u306a\u308a\u307e\u305b\u3093")}),u=o.omit({email:!0}).extend({passwordConfirmation:t.z.string().min(6,"\u30d1\u30b9\u30ef\u30fc\u30c9\u306f6\u6587\u5b57\u4ee5\u4e0a\u3067\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044").max(50,"\u30d1\u30b9\u30ef\u30fc\u30c9\u306f50\u6587\u5b57\u4ee5\u4e0b\u3067\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044")}),l=t.z.object({username:t.z.string().min(1,"\u30e6\u30fc\u30b6\u30fc\u540d\u306f1\u6587\u5b57\u4ee5\u4e0a\u3067\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044").max(15,"\u30e6\u30fc\u30b6\u30fc\u540d\u306f15\u6587\u5b57\u4ee5\u4e0b\u3067\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044").optional(),description:t.z.string().max(50,"\u81ea\u5df1\u7d39\u4ecb\u306f50\u6587\u5b57\u4ee5\u4e0b\u3067\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044").optional()})},2049:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/profile/[username]/edit",function(){return r(6520)}])},373:function(e,n,r){"use strict";r.d(n,{Z:function(){return u}});var t=r(7294),o={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function i(e){var n=function(e){if("number"===typeof e)return{value:e,unit:"px"};var n,r=(e.match(/^[0-9.]*/)||"").toString();n=r.includes(".")?parseFloat(r):parseInt(r,10);var t=(e.match(/[^0-9]*$/)||"").toString();return o[t]?{value:n,unit:t}:(console.warn("React Spinners: ".concat(e," is not a valid css value. Defaulting to ").concat(n,"px.")),{value:n,unit:"px"})}(e);return"".concat(n.value).concat(n.unit)}var c=function(){return c=Object.assign||function(e){for(var n,r=1,t=arguments.length;r<t;r++)for(var o in n=arguments[r])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e},c.apply(this,arguments)},a=function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(t=Object.getOwnPropertySymbols(e);o<t.length;o++)n.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(e,t[o])&&(r[t[o]]=e[t[o]])}return r},s=function(e,n,r){var t="react-spinners-".concat(e,"-").concat(r);if("undefined"==typeof window||!window.document)return t;var o=document.createElement("style");document.head.appendChild(o);var i=o.sheet,c="\n    @keyframes ".concat(t," {\n      ").concat(n,"\n    }\n  ");return i&&i.insertRule(c,0),t}("ClipLoader","0% {transform: rotate(0deg) scale(1)} 50% {transform: rotate(180deg) scale(0.8)} 100% {transform: rotate(360deg) scale(1)}","clip");var u=function(e){var n=e.loading,r=void 0===n||n,o=e.color,u=void 0===o?"#000000":o,l=e.speedMultiplier,p=void 0===l?1:l,d=e.cssOverride,f=void 0===d?{}:d,m=e.size,h=void 0===m?35:m,b=a(e,["loading","color","speedMultiplier","cssOverride","size"]),g=c({background:"transparent !important",width:i(h),height:i(h),borderRadius:"100%",border:"2px solid",borderTopColor:u,borderBottomColor:"transparent",borderLeftColor:u,borderRightColor:u,display:"inline-block",animation:"".concat(s," ").concat(.75/p,"s 0s infinite linear"),animationFillMode:"both"},f);return r?t.createElement("span",c({style:g},b)):null}}},function(e){e.O(0,[560,536,675,760,774,888,179],(function(){return n=2049,e(e.s=n);var n}));var n=e.O();_N_E=n}]);