(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[592],{7233:function(n,e,r){"use strict";r.d(e,{Q:function(){return t}});var t=r(66).ZP.input.withConfig({displayName:"BaseInput",componentId:"sc-126p863-0"})(["height:40px;width:100%;display:block;max-width:400px;border:1px solid #d9d9d9;border-radius:14px;transition:transform 0.4s;padding:22px 10px;&:focus{transition:transform 4s;outline:#ed6103 auto 1px;&::placeholder{transition:transform 0.2s;color:#ed6103;font-size:8px;transform-origin:top;transform:translateY(-100%);opacity:1;}}&:invalid{outline:#ed0303 auto 2px;}"])},6702:function(n,e,r){"use strict";r.d(e,{h:function(){return t}});var t=r(66).ZP.img.withConfig({displayName:"UserIconImg",componentId:"sc-k5eqd1-0"})(["object-fit:cover;border-radius:100%;width:46px;height:46px;background-color:#fff;"])},8520:function(n,e,r){"use strict";r.r(e),r.d(e,{default:function(){return X}});var t=r(1383),o=r(9499),i=r(29),c=r(7794),a=r.n(c),s=r(6675),u=r(7294),l=r(7233);function p(n,e){if(null==n)return{};var r,t,o=function(n,e){if(null==n)return{};var r,t,o={},i=Object.keys(n);for(t=0;t<i.length;t++)r=i[t],e.indexOf(r)>=0||(o[r]=n[r]);return o}(n,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);for(t=0;t<i.length;t++)r=i[t],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(n,r)&&(o[r]=n[r])}return o}var d,f=r(5893),m=["children"];function h(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(n);e&&(t=t.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.push.apply(r,t)}return r}function b(n){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?h(Object(r),!0).forEach((function(e){(0,o.Z)(n,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(r,e))}))}return n}var g,x,v,O,w,y,j=s.Z.button(d||(d=(0,t.Z)(["\n  background-color: #ff8d06;\n  color: #fff;\n  border: none;\n  font-weight: bold;\n  cursor: pointer;\n"]))),P=function(n){var e=n.children,r=p(n,m);return(0,f.jsx)(j,b(b({},r),{},{children:e}))},Z=r(3385),z=r(6312),E=r(5121),k=r(1163),S=r(7536),_=r(9473),C=r(7473),I=r(6702),D=r(1697),F=r(337);function N(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(n);e&&(t=t.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.push.apply(r,t)}return r}function B(n){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?N(Object(r),!0).forEach((function(e){(0,o.Z)(n,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):N(Object(r)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(r,e))}))}return n}var R=s.Z.form(g||(g=(0,t.Z)(["\n  width: 93%;\n  margin: 0 auto;\n  padding-top: 35px;\n"]))),q=s.Z.h2(x||(x=(0,t.Z)(["\n  margin: 0 auto 35px;\n  font-size: 24px;\n  font-weight: normal;\n  width: 100%;\n  max-width: 400px;\n"]))),M=(0,s.Z)(I.h)(v||(v=(0,t.Z)(["\n  cursor: pointer;\n  width: 160px;\n  height: 160px;\n  margin: 0 auto 39px;\n\n  @media (min-width: 425px) {\n    & {\n      width: 180px;\n      height: 180px;\n    }\n  }\n"]))),T=s.Z.div(O||(O=(0,t.Z)(["\n  margin: 0 auto;\n  width: 100%;\n  max-width: 400px;\n  margin-bottom: 21px;\n"]))),L=(0,s.Z)(l.Q)(w||(w=(0,t.Z)(["\n  margin: 0 auto;\n  width: 100%;\n  max-width: 480px;\n"]))),Q=(0,s.Z)(P)(y||(y=(0,t.Z)(["\n  width: 100%;\n  border-radius: 8px;\n  max-width: 400px;\n  height: 48px;\n  display: block;\n  margin: 0 auto;\n"]))),X=function(){var n,e,r=(0,_.I0)(),t=(0,k.useRouter)(),o=(0,S.cI)({resolver:(0,z.F)(F.nq)}),c=o.register,s=o.handleSubmit,l=o.setValue,p=o.formState.errors,d=(0,Z.v)((function(n){return n.user})),m=d.user,h=d.loading;if((0,u.useEffect)((function(){r((0,D.Ez)())}),[]),(0,u.useEffect)((function(){m||h||t.push("/login")}),[m]),(0,u.useEffect)((function(){m?(l("username",m.username),l("description",m.desc)):h||t.push("/login")}),[m,h,l]),h)return(0,f.jsx)("div",{className:"loader-container",children:(0,f.jsx)(C.Z,{color:"#ed6103",loading:!0,size:50})});if(!m)return null;var b=function(){var n=(0,i.Z)(a().mark((function n(e){var r,o,i;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=e.username,o=e.description,n.prev=1,i={userId:m._id,username:r,desc:o},n.next=5,E.Z.put("/api/users/".concat(m._id),i);case 5:t.push("/profile/".concat(r)),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(1),console.log(n.t0);case 11:case"end":return n.stop()}}),n,null,[[1,8]])})));return function(e){return n.apply(this,arguments)}}();return(0,f.jsx)(f.Fragment,{children:(0,f.jsxs)(R,{onSubmit:s(b),children:[(0,f.jsx)(q,{children:"\u30d7\u30ed\u30d5\u30a3\u30fc\u30eb\u3092\u7de8\u96c6"}),(0,f.jsx)(M,{src:m.profileImg,alt:""}),(0,f.jsxs)(T,{children:[(0,f.jsx)("label",{htmlFor:"username",children:"\u540d\u524d"}),(0,f.jsx)(L,B(B({id:"username",type:"text"},c("username")),{},{placeholder:"\u540d\u524d"})),(0,f.jsxs)("p",{style:{marginBottom:"14px",color:"red"},children:[null===(n=p.username)||void 0===n?void 0:n.message," "]})]}),(0,f.jsxs)(T,{children:[(0,f.jsx)("label",{htmlFor:"description",children:"\u81ea\u5df1\u7d39\u4ecb"}),(0,f.jsx)(L,B(B({type:"text"},c("description")),{},{placeholder:"\u81ea\u5df1\u7d39\u4ecb",id:"description"})),(0,f.jsxs)("p",{style:{marginBottom:"14px",color:"red"},children:[null===(e=p.description)||void 0===e?void 0:e.message," "]})]}),(0,f.jsx)(Q,{children:"\u4fdd\u5b58"})]})})}},337:function(n,e,r){"use strict";r.d(e,{FB:function(){return c},KW:function(){return u},k:function(){return i},lF:function(){return s},nq:function(){return l},zk:function(){return a}});var t=r(1604),o=t.z.object({email:t.z.string().email("\u6b63\u3057\u3044\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044"),password:t.z.string().min(6,"\u30d1\u30b9\u30ef\u30fc\u30c9\u306f6\u6587\u5b57\u4ee5\u4e0a\u3067\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044").max(50,"\u30d1\u30b9\u30ef\u30fc\u30c9\u306f50\u6587\u5b57\u4ee5\u4e0b\u3067\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044")}),i=o.extend({}),c=o.extend({username:t.z.string().min(1,"\u30e6\u30fc\u30b6\u30fc\u540d\u306f1\u6587\u5b57\u4ee5\u4e0a\u3067\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044").max(15,"\u30e6\u30fc\u30b6\u30fc\u540d\u306f15\u6587\u5b57\u4ee5\u4e0b\u3067\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044"),passwordConfirmation:t.z.string().min(6,"\u30d1\u30b9\u30ef\u30fc\u30c9\u306f6\u6587\u5b57\u4ee5\u4e0a\u3067\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044").max(50,"\u30d1\u30b9\u30ef\u30fc\u30c9\u306f50\u6587\u5b57\u4ee5\u4e0b\u3067\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044")}),a=o.omit({password:!0}),s=t.z.object({code:t.z.number().min(1e4,"\u30b3\u30fc\u30c9\u306f5\u6841\u306e\u6570\u5024\u3067\u306a\u3051\u308c\u3070\u306a\u308a\u307e\u305b\u3093").max(99999,"\u30b3\u30fc\u30c9\u306f5\u6841\u306e\u6570\u5024\u3067\u306a\u3051\u308c\u3070\u306a\u308a\u307e\u305b\u3093")}),u=o.omit({email:!0}).extend({passwordConfirmation:t.z.string().min(6,"\u30d1\u30b9\u30ef\u30fc\u30c9\u306f6\u6587\u5b57\u4ee5\u4e0a\u3067\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044").max(50,"\u30d1\u30b9\u30ef\u30fc\u30c9\u306f50\u6587\u5b57\u4ee5\u4e0b\u3067\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044")}),l=t.z.object({username:t.z.string().min(1,"\u30e6\u30fc\u30b6\u30fc\u540d\u306f1\u6587\u5b57\u4ee5\u4e0a\u3067\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044").max(15,"\u30e6\u30fc\u30b6\u30fc\u540d\u306f15\u6587\u5b57\u4ee5\u4e0b\u3067\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044").optional(),description:t.z.string().max(50,"\u81ea\u5df1\u7d39\u4ecb\u306f50\u6587\u5b57\u4ee5\u4e0b\u3067\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044").optional()})},2049:function(n,e,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/profile/[username]/edit",function(){return r(8520)}])},7473:function(n,e,r){"use strict";var t=r(7294),o=r(2045),i=r(2919),c=function(){return c=Object.assign||function(n){for(var e,r=1,t=arguments.length;r<t;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n},c.apply(this,arguments)},a=function(n,e){var r={};for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&e.indexOf(t)<0&&(r[t]=n[t]);if(null!=n&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(t=Object.getOwnPropertySymbols(n);o<t.length;o++)e.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(n,t[o])&&(r[t[o]]=n[t[o]])}return r},s=(0,i.i)("ClipLoader","0% {transform: rotate(0deg) scale(1)} 50% {transform: rotate(180deg) scale(0.8)} 100% {transform: rotate(360deg) scale(1)}","clip");e.Z=function(n){var e=n.loading,r=void 0===e||e,i=n.color,u=void 0===i?"#000000":i,l=n.speedMultiplier,p=void 0===l?1:l,d=n.cssOverride,f=void 0===d?{}:d,m=n.size,h=void 0===m?35:m,b=a(n,["loading","color","speedMultiplier","cssOverride","size"]),g=c({background:"transparent !important",width:(0,o.E)(h),height:(0,o.E)(h),borderRadius:"100%",border:"2px solid",borderTopColor:u,borderBottomColor:"transparent",borderLeftColor:u,borderRightColor:u,display:"inline-block",animation:"".concat(s," ").concat(.75/p,"s 0s infinite linear"),animationFillMode:"both"},f);return r?t.createElement("span",c({style:g},b)):null}},2919:function(n,e,r){"use strict";r.d(e,{i:function(){return t}});var t=function(n,e,r){var t="react-spinners-".concat(n,"-").concat(r);if("undefined"==typeof window||!window.document)return t;var o=document.createElement("style");document.head.appendChild(o);var i=o.sheet,c="\n    @keyframes ".concat(t," {\n      ").concat(e,"\n    }\n  ");return i&&i.insertRule(c,0),t}},2045:function(n,e,r){"use strict";r.d(e,{E:function(){return o}});var t={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function o(n){var e=function(n){if("number"===typeof n)return{value:n,unit:"px"};var e,r=(n.match(/^[0-9.]*/)||"").toString();e=r.includes(".")?parseFloat(r):parseInt(r,10);var o=(n.match(/[^0-9]*$/)||"").toString();return t[o]?{value:e,unit:o}:(console.warn("React Spinners: ".concat(n," is not a valid css value. Defaulting to ").concat(e,"px.")),{value:e,unit:"px"})}(n);return"".concat(e.value).concat(e.unit)}},1383:function(n,e,r){"use strict";function t(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}r.d(e,{Z:function(){return t}})}},function(n){n.O(0,[560,536,675,760,774,888,179],(function(){return e=2049,n(n.s=e);var e}));var e=n.O();_N_E=e}]);